<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Training Simulation — Tracking Page</title>
  <style>
    body { font-family: system-ui, Arial; max-width: 820px; margin: 48px auto; padding: 16px; color: #111; }
    .card { background: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.06); }
    .muted { color: #666; font-size: 0.95rem; }
    button { padding: 10px 16px; border-radius: 8px; border: none; cursor: pointer; }
    .btn-primary { background: #007bff; color: white; }
    .btn-ghost { background: #f3f6fb; color: #111; margin-left: 8px; }
    .log { background:#f9fafb; padding:12px;border-radius:8px;margin-top:12px; font-family: monospace; font-size:0.9rem; }
    label { display:block; margin-top:10px; font-weight:600; }
    input[type="text"] { width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <div class="card">
    <h2>Training Simulation — Tracking Page</h2>
    <p class="muted">This page is a safe test harness for analytics. It records events into <code>visitor_logs</code> with an explicit <code>delivery_id</code>.</p>

    <div>
      <label>Delivery ID (from your delivery row)</label>
      <input id="deliveryIdInput" type="text" placeholder="00000000-0000-0000-0000-000000000100"/>
    </div>

    <div style="margin-top:12px;">
      <button id="btn-open" class="btn-primary">Simulate Open</button>
      <button id="btn-click" class="btn-primary">Simulate Click</button>
      <button id="btn-submit" class="btn-primary">Simulate Submit</button>
      <button id="btn-report" class="btn-ghost">Simulate Report</button>
    </div>

    <div style="margin-top:18px;">
      <label>User Agent (auto-filled)</label>
      <input id="ua" type="text" readonly />
      <label>Location (path) — optional</label>
      <input id="locationField" type="text" placeholder="/training/page1" />
    </div>

    <div style="margin-top:18px;">
      <strong>Logs</strong>
      <div id="logs" class="log">No events yet.</div>
    </div>

    <div style="margin-top:18px;">
      <small class="muted">IMPORTANT: This page only records event types in visitor_logs; it does <strong>not</strong> store or transmit any real credentials. Use only for authorized internal training/testing.</small>
    </div>
  </div>

<script type="module" src="./track.js">
 
</script>
</body>
</html>
